<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>LexNet Down</title>
  <style media="screen">
    html,
    body {
      background-color: black;
      color: white;
    }

    .header {
      margin-top: 20vh;
      margin-left: 50%;
      transform: translateX(-50%);
      display: inline-block;
      font-size: 5em;
      margin-bottom: 5vh;
    }

    .challenge {
      width: 60%;
      margin-left: 50%;
      transform: translateX(-50%);
      height: 20vh;
      text-align: justify;
      display: inline-block;
      white-space: normal;
      word-wrap: break-word;
      word-break: break-all;
    }

    .hackers {
      margin-left: 50%;
      transform: translateX(-50%);
      display: inline-block;
      font-size: 2em;
    }

    input {
      width: 50%;
      border: none;
      outline: none;
      height: 1.6em;
      margin-left: 50%;
      transform: translateX(-50%);
    }
  </style>
</head>

<body>
  <div class="hackers">
  </div>
  <div class="header">
    LexNet Down
  </div>
  <div class="challenge">
    011000110110111101110000011110010010000001110100011010000110100101110011001000000111010001100101011110000111010000100000011010010110111001110100011011110010000001110100011010000110010100100000011000100110010101101100011011110111011100100000011000100110111101111000
  </div>
  <input type="text" oninput="evalu()">
  <script type="text/javascript">
    function evalu() {
      var inp = document.querySelector('input');
      if (btoa(inp.value) == 'Y29weSB0aGlzIHRleHQgaW50byB0aGUgYm94IGJlbG93') {
        inp.value = '';
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/new', true);
        xhr.send();
      }
    }

    window.addEventListener('load', function(){
      var xmlhttp = new XMLHttpRequest();
      xmlhttp.onreadystatechange = function() {
          if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
             if (xmlhttp.status == 200) {
                 document.querySelector(".hackers").innerHTML = 'Current Hackers: ' + JSON.parse(xmlhttp.responseText).hackers;
             }
          }
      };
      xmlhttp.open("GET", "/count", true);
      xmlhttp.send();
    });
  </script>
</body>

</html>
